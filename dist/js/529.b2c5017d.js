"use strict";(self["webpackChunksport_portal_admin"]=self["webpackChunksport_portal_admin"]||[]).push([[529],{529:function(e,t,s){s.r(t),s.d(t,{default:function(){return Z}});var r=s(998),a=s(4562),i=s(4145),o=s(4324),n=s(7637),l=s(1713),d=s(9449),u=s(3687),c=s(7808),h=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(r.Z,{style:{background:e.$vuetify.theme.themes.dark.background}},[t("div",{staticStyle:{margin:"20px"}},[t(i.Z,{staticStyle:{"border-radius":"10px",padding:"15px"},attrs:{elevation:"0",color:"white",width:"100%"}},[t(l.Z,{attrs:{"no-gutters":""}},[t(u.Z),t(a.Z,{staticStyle:{color:"#0088FF",border:"1px solid #0088FF","background-color":"transparent"},attrs:{elevation:"0"},on:{click:function(t){e.drawer=!e.drawer}}},[t(o.Z,{attrs:{color:"#0088FF"}},[e._v(" mdi-account-group-outline ")]),e._v(" + ")],1)],1)],1),t(i.Z,{staticStyle:{"border-radius":"10px","margin-top":"20px"},attrs:{elevation:"0",color:"white",width:"100%"}},[t(d.Z,{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",e._l(e.headers,(function(s,r){return t("th",{key:r},[e._v(" "+e._s(s)+" ")])})),0)]),t("tbody",e._l(e.users,(function(s,r){return t("tr",{key:r,staticClass:"table-row",style:r%2==0?"background-color: #F2F2F7":""},[t("td",[e._v(e._s(r+1))]),t("td",[e._v(e._s(s.name))]),t("td",[e._v(e._s(s.surname))]),t("td",[e._v(e._s(s.email))]),t("td",[t(a.Z,{attrs:{icon:"","x-small":""},on:{click:function(t){return e.updateUser(s)}}},[t(o.Z,{attrs:{color:"orange",size:"20"}},[e._v("mdi-pencil-outline")])],1),t(a.Z,{attrs:{icon:"","x-small":""},on:{click:function(t){return e.deleteUser(s.id)}}},[t(o.Z,{attrs:{color:"red",size:"20"}},[e._v("mdi-delete-outline")])],1)],1)])})),0)]},proxy:!0}])})],1),t(n.Z,{staticClass:"pa-8",attrs:{absolute:"",temporary:"",right:"",width:"400"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[t("div",{staticStyle:{"font-size":"20px","margin-bottom":"10px","font-weight":"500"}},[e._v("Add User")]),t(c.Z,{staticClass:"mt-1 mb-n1",attrs:{dense:"",outlined:"",label:"Name"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),t(c.Z,{staticClass:"mb-n1",attrs:{dense:"",outlined:"",label:"Surname"},model:{value:e.user.surname,callback:function(t){e.$set(e.user,"surname",t)},expression:"user.surname"}}),t(c.Z,{staticClass:"mb-n1",attrs:{dense:"",outlined:"",label:"Email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),void 0==e.user.id?t(c.Z,{staticClass:"mb-n1",attrs:{dense:"",outlined:"",label:"Password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}):e._e(),t(a.Z,{staticStyle:{"background-color":"transparent",border:"1px solid #0088FF",color:"#0088FF","font-size":"18px","font-weight":"300"},attrs:{dense:"",elevation:"0",width:"100%"},on:{click:e.saveUser}},[e._v(" Save ")])],1)],1)])},m=[],p=s(3080),f=s(6154),w=s(6455),v=s.n(w),b={data:()=>({drawer:!1,headers:["id","name","surname","email","action"],users:[],user:{},Toast:v().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",v().stopTimer),e.addEventListener("mouseleave",v().resumeTimer)}}),rules:[e=>!!e||"Password is required"]}),created(){this.getUsers()},methods:{async getUsers(){await f.Z.get("/users").then((e=>{this.users=e.data.data})).catch((e=>{console.log(e)}))},async saveUser(){void 0==this.user.id?await f.Z.post("/users/",this.user).then((()=>{this.getUsers(),this.drawer=!this.drawer,this.Toast.fire({icon:"success",title:"Successfully saved"}),this.user={}})).catch((e=>{console.log(e),this.drawer=!this.drawer,this.Toast.fire({icon:"error",title:"Something went wrong"}),this.user={}})):await f.Z.patch("/users/"+this.user.id+"/",{name:this.user.name,surname:this.user.surname,email:this.user.email,password:this.user.password}).then((()=>{this.getUsers(),this.drawer=!this.drawer,this.Toast.fire({icon:"success",title:"Successfully updated"}),this.user={}})).catch((e=>{console.log(e),this.drawer=!this.drawer,this.Toast.fire({icon:"error",title:"Something went wrong"}),this.user={}}))},async deleteUser(e){v().fire({title:"Are you sure?",icon:"question",showCancelButton:!0,confirmButtonColor:"#7FBA5E",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((t=>{t.isConfirmed&&f.Z.delete("/users/"+e+"/").then((()=>{this.getUsers(),this.Toast.fire({icon:"success",title:"Successfully deleted"})})).catch((e=>{console.log(e),this.Toast.fire({icon:"error",title:"Something went wrong"})}))}))},async updateUser(e){this.user.id=e.id,this.user.name=e.name,this.user.surname=e.surname,this.user.email=e.email,this.user.password=e.password,this.drawer=!this.drawer}},computed:{},components:{SideBar:p.Z}},g=b,_=s(1001),x=(0,_.Z)(g,h,m,!1,null,"f1b086f8",null),Z=x.exports},9449:function(e,t,s){s.d(t,{Z:function(){return o}});var r=s(5352),a=s(6669),i=s(7678),o=(0,i.Z)(a.Z).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes(){return{"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader,"v-data-table--has-top":!!this.$slots.top,"v-data-table--has-bottom":!!this.$slots.bottom,...this.themeClasses}}},methods:{genWrapper(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:(0,r.kb)(this.height)}},[this.$createElement("table",this.$slots.default)])}},render(e){return e("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},3687:function(e,t,s){s(9027);var r=s(5352);t.Z=(0,r.Ji)("spacer","div","v-spacer")}}]);
//# sourceMappingURL=529.b2c5017d.js.map