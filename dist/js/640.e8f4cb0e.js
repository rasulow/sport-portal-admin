"use strict";(self["webpackChunksport_portal_admin"]=self["webpackChunksport_portal_admin"]||[]).push([[640],{2640:function(t,e,a){a.r(e),a.d(e,{default:function(){return x}});var s=a(998),r=a(4562),o=a(4145),i=a(4324),n=a(7637),c=a(1713),l=a(9449),d=a(3687),h=a(7808),u=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(s.Z,{style:{background:t.$vuetify.theme.themes.dark.background}},[e("div",{staticStyle:{margin:"20px"}},[e(o.Z,{staticStyle:{"border-radius":"10px",padding:"15px"},attrs:{elevation:"0",color:"white",width:"100%"}},[e(c.Z,{attrs:{"no-gutters":""}},[e(d.Z),e(r.Z,{staticStyle:{color:"#0088FF",border:"1px solid #0088FF","background-color":"transparent"},attrs:{elevation:"0"},on:{click:function(e){t.drawer=!t.drawer}}},[e(i.Z,{attrs:{color:"#0088FF"}},[t._v(" mdi-shape-plus-outline ")]),t._v(" + ")],1)],1)],1),e(o.Z,{staticStyle:{"border-radius":"10px","margin-top":"20px"},attrs:{elevation:"0",color:"white",width:"100%"}},[e(l.Z,{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",t._l(t.headers,(function(a,s){return e("th",{key:s},[t._v(" "+t._s(a)+" ")])})),0)]),e("tbody",t._l(t.categories,(function(a,s){return e("tr",{key:s,staticClass:"table-row",style:s%2==0?"background-color: #F2F2F7":""},[e("td",[t._v(t._s(s+1))]),e("td",[t._v(t._s(a.nameTm))]),e("td",[t._v(t._s(a.nameRu))]),e("td",[t._v(t._s(a.section))]),e("td",[e(r.Z,{attrs:{icon:"","x-small":""},on:{click:function(e){return t.updateCategory(a)}}},[e(i.Z,{attrs:{color:"orange",size:"20"}},[t._v("mdi-pencil-outline")])],1),e(r.Z,{attrs:{icon:"","x-small":""},on:{click:function(e){return t.deleteCategory(a.id)}}},[e(i.Z,{attrs:{color:"red",size:"20"}},[t._v("mdi-delete-outline")])],1)],1)])})),0)]},proxy:!0}])})],1),e(n.Z,{staticClass:"pa-8",attrs:{absolute:"",temporary:"",right:"",width:"400"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[e("div",{staticStyle:{"font-size":"20px","margin-bottom":"10px","font-weight":"500"}},[t._v("Add Category")]),e(h.Z,{staticClass:"mt-1 mb-n1",attrs:{dense:"",outlined:"",label:"name TM"},model:{value:t.category.nameTm,callback:function(e){t.$set(t.category,"nameTm",e)},expression:"category.nameTm"}}),e(h.Z,{staticClass:"mb-n1",attrs:{dense:"",outlined:"",label:"name RU"},model:{value:t.category.nameRu,callback:function(e){t.$set(t.category,"nameRu",e)},expression:"category.nameRu"}}),e(r.Z,{staticStyle:{"background-color":"transparent",border:"1px solid #0088FF",color:"#0088FF","font-size":"18px","font-weight":"300"},attrs:{dense:"",elevation:"0",width:"100%"},on:{click:t.saveCategory}},[t._v(" Save ")])],1)],1)])},m=[],g=a(3080),p=a(6154),y=a(6455),f=a.n(y),v={data:()=>({drawer:!1,headers:["id","nameTm","nameRu","section","action"],categories:[],category:{},Toast:f().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",f().stopTimer),t.addEventListener("mouseleave",f().resumeTimer)}})}),created(){this.getCategory()},methods:{async getCategory(){await p.Z.get("/sport-categories/",{params:{take:100}}).then((t=>{this.categories=t.data.data})).catch((t=>{console.log(t)}))},async updateCategory(t){this.category.id=t.id,this.category.nameTm=t.nameTm,this.category.nameRu=t.nameRu,this.drawer=!this.drawer},async saveCategory(){void 0==this.category.id?await p.Z.post("/sport-categories/",this.category).then((()=>{this.getCategory(),this.drawer=!this.drawer,this.Toast.fire({icon:"success",title:"Successfully saved"}),this.category={}})).catch((t=>{console.log(t),this.drawer=!this.drawer,this.Toast.fire({icon:"error",title:"Something went wrong"}),this.category={}})):await p.Z.patch("sport-categories/"+this.category.id+"/",{nameTm:this.category.nameTm,nameRu:this.category.nameRu}).then((()=>{this.getCategory(),this.drawer=!this.drawer,this.Toast.fire({icon:"success",title:"Successfully updated"}),this.category={}})).catch((t=>{console.log(t),this.drawer=!this.drawer,this.Toast.fire({icon:"error",title:"Something went wrong"}),this.category={}}))},async deleteCategory(t){f().fire({title:"Are you sure?",icon:"question",showCancelButton:!0,confirmButtonColor:"#7FBA5E",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((e=>{e.isConfirmed&&p.Z.delete("/sport-categories/"+t+"/").then((()=>{this.getCategory(),this.Toast.fire({icon:"success",title:"Successfully deleted"})})).catch((t=>{console.log(t),this.Toast.fire({icon:"error",title:"Something went wrong"})}))}))}},components:{SideBar:g.Z}},w=v,b=a(1001),_=(0,b.Z)(w,u,m,!1,null,"0e37068a",null),x=_.exports},9449:function(t,e,a){a.d(e,{Z:function(){return i}});var s=a(5352),r=a(6669),o=a(7678),i=(0,o.Z)(r.Z).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes(){return{"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader,"v-data-table--has-top":!!this.$slots.top,"v-data-table--has-bottom":!!this.$slots.bottom,...this.themeClasses}}},methods:{genWrapper(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:(0,s.kb)(this.height)}},[this.$createElement("table",this.$slots.default)])}},render(t){return t("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},3687:function(t,e,a){a(9027);var s=a(5352);e.Z=(0,s.Ji)("spacer","div","v-spacer")}}]);
//# sourceMappingURL=640.e8f4cb0e.js.map