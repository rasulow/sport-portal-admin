"use strict";(self["webpackChunksport_portal_admin"]=self["webpackChunksport_portal_admin"]||[]).push([[907],{8907:function(t,e,i){i.r(e),i.d(e,{default:function(){return Z}});var s=i(998),o=i(4562),n=i(4145),a=i(8862),r=i(4061),l=i(4324),d=i(7637),c=i(1713),h=i(9449),u=i(3687),p=i(7808),m=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(s.Z,{style:{background:t.$vuetify.theme.themes.dark.background}},[e("div",{staticStyle:{margin:"20px"}},[e(n.Z,{staticStyle:{"border-radius":"10px",padding:"15px"},attrs:{elevation:"0",color:"white",width:"100%"}},[e(c.Z,{attrs:{"no-gutters":""}},[e(u.Z),e(o.Z,{staticStyle:{color:"#0088FF",border:"1px solid #0088FF","background-color":"transparent"},attrs:{elevation:"0"},on:{click:function(e){t.drawer=!t.drawer}}},[e(l.Z,{attrs:{color:"#0088FF"}},[t._v(" mdi-alpha-s-circle-outline ")]),t._v(" + ")],1)],1)],1),e(n.Z,{staticStyle:{"border-radius":"10px","margin-top":"20px"},attrs:{elevation:"0",color:"white",width:"100%"}},[e(h.Z,{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",t._l(t.headers,(function(i,s){return e("th",{key:s},[t._v(" "+t._s(i)+" ")])})),0)]),e("tbody",t._l(t.sports,(function(i,s){return e("tr",{key:s,staticClass:"table-row",style:s%2==0?"background-color: #F2F2F7":""},[e("td",{on:{click:function(e){return t.openDialog(i)}}},[t._v(t._s(s+1))]),e("td",{on:{click:function(e){return t.openDialog(i)}}},[t._v(t._s(i.federation.nameTm))]),e("td",{on:{click:function(e){return t.openDialog(i)}}},[t._v(t._s(i.presidentTm))]),e("td",{on:{click:function(e){return t.openDialog(i)}}},[t._v(t._s(i.presidentRu))]),e("td",{on:{click:function(e){return t.openDialog(i)}}},[t._v(t._s(i.tel))]),e("td",{staticStyle:{width:"100px"}},[e(o.Z,{attrs:{icon:"","x-small":""},on:{click:function(e){return t.updateSport(i)}}},[e(l.Z,{attrs:{color:"orange",size:"20"}},[t._v("mdi-pencil-outline")])],1),e(o.Z,{attrs:{icon:"","x-small":""},on:{click:function(e){return t.deleteSport(i.id)}}},[e(l.Z,{attrs:{color:"red",size:"20"}},[t._v("mdi-delete-outline")])],1)],1)])})),0)]},proxy:!0}])})],1),e(r.Z,{attrs:{"max-width":"30%"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(n.Z,{staticClass:"pa-8",attrs:{elevation:"0"}},[e(c.Z,{staticStyle:{"font-size":"20px","font-weight":"500","margin-bottom":"25px"},attrs:{"no-gutters":""}},[t._v(" Full information ")]),t._l(t.info,(function(i,s){return e(c.Z,{key:s,attrs:{"no-gutters":""}},["id"!=s&&"createdAt"!=s&&"updatedAt"!=s&&"federation"!=s&&"federationId"!=s?e(p.Z,{attrs:{outlined:"",readonly:"",dense:"",label:s,value:t.info[s]}}):t._e()],1)})),t._l(2,(function(i){return e(c.Z,{key:i,attrs:{"no-gutters":""}},[e(p.Z,{attrs:{"auto-grow":"",outlined:"",readonly:"",dense:"",label:1==i?"federationTm":"federationRu",value:1==i?t.info?.federation?.nameTm:t.info?.federation?.nameRu}})],1)}))],2)],1),e(d.Z,{staticClass:"pa-8",attrs:{absolute:"",temporary:"",right:"",width:"400"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[e("div",{staticStyle:{"font-size":"20px","margin-bottom":"10px","font-weight":"500"}},[t._v("Add sport federation")]),e(p.Z,{staticClass:"mt-1 mb-n1",attrs:{dense:"",outlined:"",label:"presidentTm"},model:{value:t.sport.presidentTm,callback:function(e){t.$set(t.sport,"presidentTm",e)},expression:"sport.presidentTm"}}),e(p.Z,{staticClass:"mt-1 mb-n1",attrs:{dense:"",outlined:"",label:"presidentRu"},model:{value:t.sport.presidentRu,callback:function(e){t.$set(t.sport,"presidentRu",e)},expression:"sport.presidentRu"}}),e(p.Z,{staticClass:"mb-n1",attrs:{dense:"",outlined:"",label:"leaderTm"},model:{value:t.sport.leaderTm,callback:function(e){t.$set(t.sport,"leaderTm",e)},expression:"sport.leaderTm"}}),e(p.Z,{staticClass:"mb-n1",attrs:{dense:"",outlined:"",label:"leaderRu"},model:{value:t.sport.leaderRu,callback:function(e){t.$set(t.sport,"leaderRu",e)},expression:"sport.leaderRu"}}),e(p.Z,{staticClass:"mb-n1",attrs:{dense:"",outlined:"",label:"founded"},model:{value:t.sport.founded,callback:function(e){t.$set(t.sport,"founded",e)},expression:"sport.founded"}}),e(p.Z,{staticClass:"mb-n1",attrs:{dense:"",outlined:"",label:"locationTm"},model:{value:t.sport.locationTm,callback:function(e){t.$set(t.sport,"locationTm",e)},expression:"sport.locationTm"}}),e(p.Z,{staticClass:"mb-n1",attrs:{dense:"",outlined:"",label:"locationRu"},model:{value:t.sport.locationRu,callback:function(e){t.$set(t.sport,"locationRu",e)},expression:"sport.locationRu"}}),e(p.Z,{staticClass:"mb-n1",attrs:{dense:"",outlined:"",label:"tel"},model:{value:t.sport.tel,callback:function(e){t.$set(t.sport,"tel",e)},expression:"sport.tel"}}),e(p.Z,{staticClass:"mb-n1",attrs:{dense:"",outlined:"",label:"fax"},model:{value:t.sport.fax,callback:function(e){t.$set(t.sport,"fax",e)},expression:"sport.fax"}}),e(p.Z,{staticClass:"mb-n1",attrs:{dense:"",outlined:"",label:"email"},model:{value:t.sport.email,callback:function(e){t.$set(t.sport,"email",e)},expression:"sport.email"}}),e(p.Z,{staticClass:"mb-n1",attrs:{dense:"",outlined:"",label:"web"},model:{value:t.sport.web,callback:function(e){t.$set(t.sport,"web",e)},expression:"sport.web"}}),e(a.Z,{attrs:{dense:"",outlined:"",label:"federation",items:t.federations,"item-text":"nameTm"},model:{value:t.sport.federation,callback:function(e){t.$set(t.sport,"federation",e)},expression:"sport.federation"}}),e(o.Z,{staticStyle:{"background-color":"transparent",border:"1px solid #0088FF",color:"#0088FF","font-size":"18px","font-weight":"300"},attrs:{dense:"",elevation:"0",width:"100%"},on:{click:t.saveSport}},[t._v(" Save ")])],1)],1)])},f=[],v=i(3080),g=i(6154),b=i(6455),w=i.n(b),x={data:()=>({headers:["id","federation","presidentTm","presidentRu","tel","action"],sports:[],sport:{},dialog:!1,dialogItem:{},drawer:!1,federations:[],Toast:w().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",w().stopTimer),t.addEventListener("mouseleave",w().resumeTimer)}}),info:{}}),created(){this.getSports(),this.getFederations()},methods:{async openDialog(t){this.info=t,this.dialog=!this.dialog},async getFederations(){await g.Z.get("/federations/").then((t=>{this.federations=t.data.data})).catch((t=>{console.log(t)}))},async getSports(){await g.Z.get("/federation-sports/",{params:{take:100}}).then((t=>{this.sports=t.data.data})).catch((t=>{console.log(t)}))},async updateSport(t){this.sport.id=t.id,this.sport.presidentTm=t.presidentTm,this.sport.presidentRu=t.presidentRu,this.sport.leaderTm=t.leaderTm,this.sport.leaderRu=t.leaderRu,this.sport.founded=t.founded,this.sport.locationTm=t.locationTm,this.sport.locationRu=t.locationRu,this.sport.tel=t.tel,this.sport.fax=t.fax,this.sport.email=t.email,this.sport.web=t.web,this.sport.federation=t.federation,this.drawer=!this.drawer},async saveSport(){void 0===this.sport.id?g.Z.post("/federation-sports/",{presidentTm:this.sport.presidentTm,presidentRu:this.sport.presidentRu,leaderTm:this.sport.leaderTm,leaderRu:this.sport.leaderRu,founded:this.sport.founded,locationTm:this.sport.locationTm,locationRu:this.sport.locationRu,tel:this.sport.tel,fax:this.sport.fax,email:this.sport.email,web:this.sport.web,federationId:this.sport.federation.id}).then((()=>{this.getSports(),this.drawer=!this.drawer,this.Toast.fire({icon:"success",title:"Successfully saved"}),this.sport={}})).catch((t=>{console.log(t),this.drawer=!this.drawer,this.Toast.fire({icon:"error",title:"Something went wrong"}),this.sport={}})):g.Z.patch(`/federation-sports/${this.sport.id}/`,{presidentTm:this.sport.presidentTm,presidentRu:this.sport.presidentRu,leaderTm:this.sport.leaderTm,leaderRu:this.sport.leaderRu,founded:this.sport.founded,locationTm:this.sport.locationTm,locationRu:this.sport.locationRu,tel:this.sport.tel,fax:this.sport.fax,email:this.sport.email,web:this.sport.web,federationId:this.sport.federation.id}).then((()=>{this.getSports(),this.drawer=!this.drawer,this.Toast.fire({icon:"success",title:"Successfully updated"}),this.sport={}})).catch((t=>{console.log(t),this.drawer=!this.drawer,this.Toast.fire({icon:"error",title:"Something went wrong"}),this.sport={}}))},async deleteSport(t){w().fire({title:"Are you sure?",icon:"question",showCancelButton:!0,confirmButtonColor:"#7FBA5E",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((e=>{e.isConfirmed&&g.Z.delete("/federation-sports/"+t+"/").then((()=>{this.getSports(),this.Toast.fire({icon:"success",title:"Successfully deleted"})})).catch((t=>{console.log(t),this.Toast.fire({icon:"error",title:"Something went wrong"})}))}))}},computed:{},components:{SideBar:v.Z}},k=x,y=i(1001),T=(0,y.Z)(k,m,f,!1,null,"2f158c18",null),Z=T.exports},4061:function(t,e,i){i.d(e,{Z:function(){return f}});var s=i(920),o=i(1452),n=i(908),a=i(2694),r=i(9351),l=i(6401),d=i(8472),c=i(5942),h=i(7678),u=i(4101),p=i(5352);const m=(0,h.Z)(n.Z,a.Z,r.Z,l.Z,d.Z,o.Z);var f=m.extend({name:"v-dialog",directives:{ClickOutside:c.Z},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:[String,Number],noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:[String,Number]},data(){return{activatedBy:null,animate:!1,animateTimeout:-1,stackMinZIndex:200,previousActiveElement:null}},computed:{classes(){return{[`v-dialog ${this.contentClass}`.trim()]:!0,"v-dialog--active":this.isActive,"v-dialog--persistent":this.persistent,"v-dialog--fullscreen":this.fullscreen,"v-dialog--scrollable":this.scrollable,"v-dialog--animated":this.animate}},contentClasses(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive(t){var e;t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),null===(e=this.previousActiveElement)||void 0===e||e.focus())},fullscreen(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created(){this.$attrs.hasOwnProperty("full-width")&&(0,u.Jk)("full-width",this)},beforeMount(){this.$nextTick((()=>{this.isBooted=this.isActive,this.isActive&&this.show()}))},beforeDestroy(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick(){this.animate=!1,this.$nextTick((()=>{this.animate=!0,window.clearTimeout(this.animateTimeout),this.animateTimeout=window.setTimeout((()=>this.animate=!1),150)}))},closeConditional(t){const e=t.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(e)||this.overlay&&e&&!this.overlay.$el.contains(e))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):r.Z.options.methods.hideScroll.call(this)},show(){!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((()=>{this.$nextTick((()=>{var t,e;(null===(t=this.$refs.dialog)||void 0===t?void 0:t.contains(document.activeElement))||(this.previousActiveElement=document.activeElement,null===(e=this.$refs.dialog)||void 0===e||e.focus()),this.bind()}))}))},bind(){window.addEventListener("focusin",this.onFocusin)},unbind(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside(t){this.$emit("click:outside",t),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown(t){if(t.keyCode===p.Do.esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;const t=this.getActivator();this.$nextTick((()=>t&&t.focus()))}this.$emit("keydown",t)},onFocusin(t){if(!t||!this.retainFocus)return;const e=t.target;if(e&&this.$refs.dialog&&![document,this.$refs.dialog].includes(e)&&!this.$refs.dialog.contains(e)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((t=>t.contains(e)))){const t=this.$refs.dialog.querySelectorAll('button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])'),e=[...t].find((t=>!t.hasAttribute("disabled")&&!t.matches('[tabindex="-1"]')));e&&e.focus()}},genContent(){return this.showLazyContent((()=>[this.$createElement(s.Z,{props:{root:!0,light:this.light,dark:this.dark}},[this.$createElement("div",{class:this.contentClasses,attrs:{role:"dialog","aria-modal":this.hideOverlay?void 0:"true",...this.getScopeIdAttrs()},on:{keydown:this.onKeydown},style:{zIndex:this.activeZIndex},ref:"content"},[this.genTransition()])])]))},genTransition(){const t=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[t]):t},genInnerContent(){const t={class:this.classes,attrs:{tabindex:this.isActive?0:void 0},ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(t.style={...t.style,maxWidth:(0,p.kb)(this.maxWidth),width:(0,p.kb)(this.width)}),this.$createElement("div",t,this.getContentSlot())}},render(t){return t("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},[this.genActivator(),this.genContent()])}})}}]);
//# sourceMappingURL=907.b87e72cb.js.map