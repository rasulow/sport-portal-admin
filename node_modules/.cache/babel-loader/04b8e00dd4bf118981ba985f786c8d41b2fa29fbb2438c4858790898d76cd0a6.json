{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nexport default {\n  data: () => ({\n    trainer: {},\n    workedAtTm: [],\n    workedAtRu: [],\n    badgesTm: [],\n    badgesRu: [],\n    federations: [],\n    federation: null,\n    file: null,\n    Toast: Swal.mixin({\n      toast: true,\n      position: 'top-end',\n      showConfirmButton: false,\n      timer: 1500,\n      timerProgressBar: true,\n      didOpen: toast => {\n        toast.addEventListener('mouseenter', Swal.stopTimer);\n        toast.addEventListener('mouseleave', Swal.resumeTimer);\n      }\n    })\n  }),\n  created() {\n    this.getFederations();\n  },\n  methods: {\n    addItem(type) {\n      if (type === 'work') {\n        this.workedAtTm.push({\n          value: ''\n        });\n        this.workedAtRu.push({\n          value: ''\n        });\n      }\n      if (type === 'badge') {\n        this.badgesTm.push({\n          value: ''\n        });\n        this.badgesRu.push({\n          value: ''\n        });\n      }\n    },\n    removeItem(type, id) {\n      if (type === 'work') {\n        this.workedAtTm.splice(id, 1);\n        this.workedAtRu.splice(id, 1);\n      }\n      if (type === 'badge') {\n        this.badgesTm.splice(id, 1);\n        this.badgesRu.splice(id, 1);\n      }\n    },\n    async getFederations() {\n      await axios.get('/federations/', {\n        params: {\n          take: 100\n        }\n      }).then(res => {\n        this.federations = res.data.data;\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    async saveInfo() {\n      let formData = new FormData();\n      formData.append('age', Number(this.trainer.age));\n      formData.append('jobTm', this.trainer.jobTm);\n      formData.append('jobRu', this.trainer.jobRu);\n      formData.append('nameTm', this.trainer.nameTm);\n      formData.append('nameRu', this.trainer.nameRu);\n      formData.append('madeTm', this.trainer.madeTm);\n      formData.append('madeRu', this.trainer.madeRu);\n      formData.append('rating', Number(this.trainer.rating));\n      formData.append('experience', Number(this.trainer.experience));\n      formData.append('birthPlaceTm', this.trainer.birthPlaceTm);\n      formData.append('birthPlaceRu', this.trainer.birthPlaceRu);\n      formData.append('sportLevelTm', this.trainer.sportLevelTm);\n      formData.append('sportLevelRu', this.trainer.sportLevelRu);\n      formData.append('links', {});\n      formData.append('federationId', this.federation.id);\n      formData.append('photo', this.file);\n      let workedAtTm = [];\n      let workedAtRu = [];\n      let badgesTm = [];\n      let badgesRu = [];\n      for (let i = 0; i < this.workedAtTm.length; i++) {\n        workedAtTm.push(this.workedAtTm[i].value);\n        workedAtRu.push(this.workedAtRu[i].value);\n      }\n      for (let i = 0; i < this.badgesTm.length; i++) {\n        badgesTm.push(this.badgesTm[i].value);\n        badgesRu.push(this.badgesRu[i].value);\n      }\n      formData.append('workedAtTm', workedAtTm);\n      formData.append('workedAtRu', workedAtRu);\n      formData.append('badgesTm', badgesTm);\n      formData.append('badgesRu', badgesRu);\n      await axios.post('/federation-trainers/', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(() => {\n        this.Toast.fire({\n          icon: 'success',\n          title: 'Successfully saved'\n        });\n        this.$emit('close-nav-drawer');\n      }).catch(err => {\n        this.Toast.fire({\n          icon: 'error',\n          title: 'Something went wrong'\n        });\n        console.log(err);\n        this.$emit('close-nav-drawer');\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","Swal","data","trainer","workedAtTm","workedAtRu","badgesTm","badgesRu","federations","federation","file","Toast","mixin","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","addEventListener","stopTimer","resumeTimer","created","getFederations","methods","addItem","type","push","value","removeItem","id","splice","get","params","take","then","res","catch","err","console","log","saveInfo","formData","FormData","append","Number","age","jobTm","jobRu","nameTm","nameRu","madeTm","madeRu","rating","experience","birthPlaceTm","birthPlaceRu","sportLevelTm","sportLevelRu","i","length","post","headers","fire","icon","title","$emit"],"sources":["src/components/example/Drawers/TrainerDrawer.vue"],"sourcesContent":["<template>\r\n    <div>\r\n<!--      nameTm nameRu   -->\r\n      <v-row no-gutters class=\"mt-1\">\r\n        <v-col cols=\"12\" md=\"6\" sm=\"6\">\r\n          <v-text-field\r\n              outlined\r\n              dense\r\n              label=\"nameTm\"\r\n              v-model=\"trainer.nameTm\"\r\n              class=\"mr-1\"\r\n          />\r\n        </v-col>\r\n        <v-col cols=\"12\" md=\"6\" sm=\"6\">\r\n          <v-text-field\r\n              outlined\r\n              dense\r\n              label=\"nameRu\"\r\n              v-model=\"trainer.nameRu\"\r\n              class=\"ml-1\"\r\n          />\r\n        </v-col>\r\n      </v-row>\r\n\r\n      <v-row no-gutters>\r\n        <v-col cols=\"12\" md=\"6\" sm=\"6\">\r\n          <v-text-field\r\n              outlined\r\n              dense\r\n              label=\"jobTm\"\r\n              v-model=\"trainer.jobTm\"\r\n              class=\"mr-1\"\r\n          />\r\n        </v-col>\r\n        <v-col cols=\"12\" md=\"6\" sm=\"6\">\r\n          <v-text-field\r\n              outlined\r\n              dense\r\n              label=\"jobRu\"\r\n              v-model=\"trainer.jobRu\"\r\n              class=\"ml-1\"\r\n          />\r\n        </v-col>\r\n      </v-row>\r\n\r\n      <v-row no-gutters>\r\n        <v-col cols=\"12\" md=\"6\" sm=\"6\">\r\n          <v-text-field\r\n              outlined\r\n              dense\r\n              label=\"birthPlaceTm\"\r\n              v-model=\"trainer.birthPlaceTm\"\r\n              class=\"mr-1\"\r\n          />\r\n        </v-col>\r\n        <v-col cols=\"12\" md=\"6\" sm=\"6\">\r\n          <v-text-field\r\n              outlined\r\n              dense\r\n              label=\"birthPlaceRu\"\r\n              v-model=\"trainer.birthPlaceRu\"\r\n              class=\"ml-1\"\r\n          />\r\n        </v-col>\r\n      </v-row>\r\n\r\n      <v-row no-gutters>\r\n        <v-col cols=\"12\" md=\"6\" sm=\"6\">\r\n          <v-text-field\r\n              outlined\r\n              dense\r\n              label=\"sportLevelTm\"\r\n              v-model=\"trainer.sportLevelTm\"\r\n              class=\"mr-1\"\r\n          />\r\n        </v-col>\r\n        <v-col cols=\"12\" md=\"6\" sm=\"6\">\r\n          <v-text-field\r\n              outlined\r\n              dense\r\n              label=\"sportLevelRu\"\r\n              v-model=\"trainer.sportLevelRu\"\r\n              class=\"ml-1\"\r\n          />\r\n        </v-col>\r\n      </v-row>\r\n\r\n      <v-row no-gutters>\r\n        <v-col cols=\"12\" md=\"6\" sm=\"6\">\r\n          <v-text-field\r\n              outlined\r\n              dense\r\n              label=\"madeTm\"\r\n              v-model=\"trainer.madeTm\"\r\n              class=\"mr-1\"\r\n          />\r\n        </v-col>\r\n        <v-col cols=\"12\" md=\"6\" sm=\"6\">\r\n          <v-text-field\r\n              outlined\r\n              dense\r\n              label=\"madeRu\"\r\n              v-model=\"trainer.madeRu\"\r\n              class=\"ml-1\"\r\n          />\r\n        </v-col>\r\n\r\n\r\n      </v-row>\r\n        <v-row no-gutters>\r\n            <v-col cols=\"12\" md=\"4\" sm=\"4\" xs=\"4\">\r\n                <v-text-field outlined dense label=\"age\" v-model=\"trainer.age\" class=\"mr-1\"/>\r\n            </v-col>\r\n            <v-col cols=\"12\" md=\"4\" sm=\"4\" xs=\"4\">\r\n                <v-text-field outlined dense label=\"experience\" v-model=\"trainer.experience\" class=\"mx-1\"/>\r\n            </v-col>\r\n            <v-col cols=\"12\" md=\"4\" sm=\"4\" xs=\"4\">\r\n                <v-text-field outlined dense label=\"rating\" v-model=\"trainer.rating\" class=\"mx-1\"/>\r\n            </v-col>\r\n        </v-row>\r\n\r\n        <v-row no-gutters>\r\n          <v-col cols=\"12\" md=\"6\" sm=\"6\">\r\n            <div\r\n                style=\"font-weight: 700;\r\n                margin-bottom: 10px\"\r\n            >\r\n              workedAtTm:\r\n            </div>\r\n          </v-col>\r\n          <v-col cols=\"12\" md=\"6\" sm=\"6\">\r\n            <div\r\n                style=\"font-weight: 700;\r\n                margin-bottom: 10px\"\r\n            >\r\n              workedAtRu:\r\n            </div>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row no-gutters\r\n              v-for=\"(item, i) in workedAtTm\"\r\n              :key=\"i\"\r\n              class=\"mb-3\"\r\n        >\r\n          <v-text-field\r\n              v-model=\"workedAtTm[i].value\"\r\n              outlined\r\n              dense\r\n              hide-details\r\n              style=\"width: 25px !important;\"\r\n              class=\"mr-1\"\r\n          />\r\n          <v-text-field\r\n              v-model=\"workedAtRu[i].value\"\r\n              outlined\r\n              dense\r\n              hide-details\r\n              style=\"width: 25px !important;\"\r\n              class=\"ml-1\"\r\n          />\r\n          <v-btn icon>\r\n            <v-icon @click=\"removeItem('work', i)\">mdi-close</v-icon>\r\n          </v-btn>\r\n        </v-row>\r\n        <v-btn height=\"25\" outlined @click=\"addItem('work')\">add work</v-btn>\r\n\r\n        <v-row no-gutters class=\"mt-5\">\r\n          <v-col cols=\"12\" md=\"6\" sm=\"6\">\r\n            <div\r\n                style=\"font-weight: 700;\r\n                  margin-bottom: 10px\"\r\n            >\r\n              badgeTm:\r\n            </div>\r\n          </v-col>\r\n          <v-col cols=\"12\" md=\"6\" sm=\"6\">\r\n            <div\r\n                style=\"font-weight: 700;\r\n                  margin-bottom: 10px\"\r\n            >\r\n              badgeRu:\r\n            </div>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row no-gutters\r\n               v-for=\"(item, i) in badgesTm\"\r\n               :key=\"i\"\r\n               class=\"mb-3\"\r\n        >\r\n          <v-text-field\r\n              v-model=\"badgesTm[i].value\"\r\n              outlined\r\n              dense\r\n              hide-details\r\n              style=\"width: 25px !important;\"\r\n              class=\"mr-1\"\r\n          />\r\n          <v-text-field\r\n              v-model=\"badgesRu[i].value\"\r\n              outlined\r\n              dense\r\n              hide-details\r\n              style=\"width: 25px !important;\"\r\n              class=\"ml-1\"\r\n          />\r\n          <v-btn icon>\r\n            <v-icon @click=\"removeItem('badge', i)\">mdi-close</v-icon>\r\n          </v-btn>\r\n        </v-row>\r\n        <v-btn height=\"25\" outlined @click=\"addItem('badge')\">add badge</v-btn>\r\n\r\n            <v-combobox\r\n                dense\r\n                outlined\r\n                label=\"federation\"\r\n\r\n                v-model=\"federation\"\r\n                :items=\"federations\"\r\n                item-text=\"nameTm\"\r\n                class=\"mt-5\"\r\n            />\r\n\r\n            <v-file-input\r\n                v-model=\"file\"\r\n                color=\"deep-purple accent-4\"\r\n                label=\"photo\"\r\n                prepend-icon=\"mdi-paperclip\"\r\n                outlined\r\n                hide-details\r\n                dense\r\n                class=\"mb-3\"\r\n            /> \r\n            <v-btn outlined width=\"100%\" class=\"mt-3\" @click=\"saveInfo\">Save</v-btn>\r\n\r\n        </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport Swal from 'sweetalert2'\r\nexport default {\r\n    data: () => ({\r\n        trainer: {},\r\n        workedAtTm: [],\r\n        workedAtRu: [],\r\n        badgesTm: [],\r\n        badgesRu: [],\r\n        federations: [],\r\n        federation: null,\r\n        file: null,\r\n        Toast: Swal.mixin({\r\n            toast: true,\r\n            position: 'top-end',\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n            timerProgressBar: true,\r\n            didOpen: (toast) => {\r\n              toast.addEventListener('mouseenter', Swal.stopTimer)\r\n              toast.addEventListener('mouseleave', Swal.resumeTimer)\r\n            },\r\n        }),\r\n    }),\r\n    created() {\r\n        this.getFederations()\r\n    },\r\n    methods: {\r\n        addItem(type) {\r\n            if (type === 'work') {\r\n                this.workedAtTm.push({ value: '' })\r\n                this.workedAtRu.push({ value: '' })\r\n            }\r\n            if (type === 'badge') {\r\n                this.badgesTm.push({ value: '' })\r\n                this.badgesRu.push({ value: '' })\r\n            }\r\n        },\r\n        removeItem(type, id) {\r\n            if(type === 'work') {\r\n                this.workedAtTm.splice(id, 1)\r\n                this.workedAtRu.splice(id, 1)\r\n            }\r\n            if (type === 'badge') {\r\n                this.badgesTm.splice(id, 1)\r\n                this.badgesRu.splice(id, 1)\r\n            }\r\n        },\r\n\r\n        async getFederations() {\r\n            await axios.get('/federations/', { params: { take: 100 } })\r\n\r\n            .then((res) => {\r\n                this.federations = res.data.data\r\n            })\r\n            .catch((err) => {\r\n                console.log(err)\r\n            })\r\n        },\r\n\r\n        async saveInfo() {\r\n            let formData = new FormData();\r\n\r\n            formData.append('age', Number(this.trainer.age))\r\n            formData.append('jobTm', this.trainer.jobTm)\r\n            formData.append('jobRu', this.trainer.jobRu)\r\n            formData.append('nameTm', this.trainer.nameTm)\r\n            formData.append('nameRu', this.trainer.nameRu)\r\n            formData.append('madeTm', this.trainer.madeTm)\r\n            formData.append('madeRu', this.trainer.madeRu)\r\n            formData.append('rating', Number(this.trainer.rating))\r\n            formData.append('experience', Number(this.trainer.experience))\r\n            formData.append('birthPlaceTm', this.trainer.birthPlaceTm)\r\n            formData.append('birthPlaceRu', this.trainer.birthPlaceRu)\r\n            formData.append('sportLevelTm', this.trainer.sportLevelTm)\r\n            formData.append('sportLevelRu', this.trainer.sportLevelRu)\r\n            formData.append('links', {})\r\n            formData.append('federationId', this.federation.id)\r\n            formData.append('photo', this.file)\r\n            \r\n            let workedAtTm = []\r\n            let workedAtRu = []\r\n            let badgesTm = []\r\n            let badgesRu = []\r\n            for (let i = 0; i < this.workedAtTm.length;i++) {\r\n                workedAtTm.push(this.workedAtTm[i].value)\r\n                workedAtRu.push(this.workedAtRu[i].value)\r\n            }\r\n            for (let i = 0; i < this.badgesTm.length;i++) {\r\n                badgesTm.push(this.badgesTm[i].value)\r\n                badgesRu.push(this.badgesRu[i].value)\r\n            }\r\n\r\n            formData.append('workedAtTm', workedAtTm)\r\n            formData.append('workedAtRu', workedAtRu)\r\n            formData.append('badgesTm', badgesTm)\r\n            formData.append('badgesRu', badgesRu)\r\n            \r\n\r\n            await axios.post('/federation-trainers/', formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            })\r\n            .then(() => {\r\n                this.Toast.fire({\r\n                    icon:'success',\r\n                    title: 'Successfully saved'\r\n                })\r\n                this.$emit('close-nav-drawer')\r\n            })\r\n            .catch((err) => {\r\n                this.Toast.fire({\r\n                    icon:'error',\r\n                    title: 'Something went wrong'\r\n                })\r\n                console.log(err)\r\n                this.$emit('close-nav-drawer')\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}