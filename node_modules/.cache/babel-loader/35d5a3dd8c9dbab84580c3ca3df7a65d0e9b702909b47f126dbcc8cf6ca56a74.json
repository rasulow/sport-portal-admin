{"ast":null,"code":"import axios from \"axios\";\nimport Swal from \"sweetalert2\";\nexport default {\n  data: () => ({\n    news: {},\n    type: ['Local', 'World'],\n    typeModel: 'Local',\n    category: [],\n    Toast: Swal.mixin({\n      toast: true,\n      position: 'top-end',\n      showConfirmButton: false,\n      timer: 1500,\n      timerProgressBar: true,\n      didOpen: toast => {\n        toast.addEventListener('mouseenter', Swal.stopTimer);\n        toast.addEventListener('mouseleave', Swal.resumeTimer);\n      }\n    })\n  }),\n  props: {\n    news_args: {\n      type: Object\n    }\n  },\n  created() {\n    this.getFilteredCategory();\n  },\n  methods: {\n    async getFilteredCategory() {\n      await axios.get('/news-page/filters/', {\n        params: {\n          'lang': 'Tm',\n          'section': this.typeModel\n        }\n      }).then(res => {\n        this.category = res.data.data.filters;\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    async saveInfo() {\n      let formData = new FormData();\n      formData.append('nameTm', this.news.nameTm);\n      formData.append('nameRu', this.news.nameRu);\n      formData.append('textTm', this.news.textTm);\n      formData.append('textRu', this.news.textRu);\n      formData.append('locationTm', this.news.locationTm);\n      formData.append('locationRu', this.news.locationRu);\n      formData.append('categoryId', this.news.category.id);\n      formData.append('photo', this.news.photo);\n      await axios.post('/news/', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(() => {\n        this.Toast.fire({\n          icon: 'success',\n          title: 'Successfully saved'\n        });\n        this.news = {};\n        this.$emit('close-nav-drawer', this.typeModel);\n      }).catch(err => {\n        this.Toast.fire({\n          icon: 'error',\n          title: 'Something went wrong'\n        });\n        console.log(err);\n        this.$emit('close-nav-drawer');\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","Swal","data","news","type","typeModel","category","Toast","mixin","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","addEventListener","stopTimer","resumeTimer","props","news_args","Object","created","getFilteredCategory","methods","get","params","then","res","filters","catch","err","console","log","saveInfo","formData","FormData","append","nameTm","nameRu","textTm","textRu","locationTm","locationRu","id","photo","post","headers","fire","icon","title","$emit"],"sources":["src/components/example/Drawers/NewsDrawer.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <v-combobox\r\n        outlined\r\n        dense\r\n        :items=\"type\"\r\n        label=\"type\"\r\n        v-model=\"typeModel\"\r\n        @change=\"getFilteredCategory\"\r\n        class=\"mt-1\"\r\n    />\r\n    <v-text-field\r\n      outlined\r\n      dense\r\n      label=\"nameTm\"\r\n      v-model=\"news.nameTm\"\r\n    />\r\n    <v-text-field\r\n        outlined\r\n        dense\r\n        label=\"nameRu\"\r\n        v-model=\"news.nameRu\"\r\n    />\r\n    <v-textarea\r\n      outlined\r\n      dense\r\n      label=\"textTm\"\r\n      v-model=\"news.textTm\"\r\n    />\r\n    <v-textarea\r\n        outlined\r\n        dense\r\n        label=\"textRu\"\r\n        v-model=\"news.textRu\"\r\n    />\r\n    <v-text-field\r\n        outlined\r\n        dense\r\n        label=\"locationTm\"\r\n        v-model=\"news.locationTm\"\r\n    />\r\n    <v-text-field\r\n        outlined\r\n        dense\r\n        label=\"locationRu\"\r\n        v-model=\"news.locationRu\"\r\n    />\r\n    <v-combobox\r\n        outlined\r\n        dense\r\n        hide-details\r\n        :items=\"category\"\r\n        label=\"category\"\r\n        v-model=\"news.category\"\r\n        item-text=\"nameTm\"\r\n    />\r\n    <v-file-input\r\n        v-model=\"news.photo\"\r\n        color=\"deep-purple accent-4\"\r\n        label=\"photo\"\r\n        prepend-icon=\"mdi-camera\"\r\n        outlined\r\n        hide-details\r\n        dense\r\n        class=\"my-6\"\r\n    />\r\n    <v-btn outlined width=\"100%\" @click=\"saveInfo\">Save</v-btn>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nexport default {\r\n  data: () => ({\r\n    news: {},\r\n    type: ['Local', 'World'],\r\n    typeModel: 'Local',\r\n    category: [],\r\n    Toast: Swal.mixin({\r\n      toast: true,\r\n      position: 'top-end',\r\n      showConfirmButton: false,\r\n      timer: 1500,\r\n      timerProgressBar: true,\r\n      didOpen: (toast) => {\r\n        toast.addEventListener('mouseenter', Swal.stopTimer)\r\n        toast.addEventListener('mouseleave', Swal.resumeTimer)\r\n      },\r\n    }),\r\n\r\n  }),\r\n  props: {\r\n    news_args: {\r\n      type: Object,\r\n    }\r\n  },\r\n  created() {\r\n    this.getFilteredCategory()\r\n  },\r\n  methods: {\r\n    async getFilteredCategory() {\r\n      await axios.get('/news-page/filters/',\r\n          { params: { 'lang': 'Tm', 'section': this.typeModel } }\r\n      )\r\n          .then((res) => {\r\n            this.category = res.data.data.filters\r\n          })\r\n          .catch((err) => {\r\n            console.log(err)\r\n          })\r\n    },\r\n\r\n    async saveInfo() {\r\n      let formData = new FormData()\r\n\r\n      formData.append('nameTm', this.news.nameTm)\r\n      formData.append('nameRu', this.news.nameRu)\r\n      formData.append('textTm', this.news.textTm)\r\n      formData.append('textRu', this.news.textRu)\r\n      formData.append('locationTm', this.news.locationTm)\r\n      formData.append('locationRu', this.news.locationRu)\r\n      formData.append('categoryId', this.news.category.id)\r\n      formData.append('photo', this.news.photo)\r\n\r\n      await axios.post('/news/', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      })\r\n          .then(() => {\r\n            this.Toast.fire({\r\n              icon:'success',\r\n              title: 'Successfully saved'\r\n            })\r\n            this.news = {}\r\n            this.$emit('close-nav-drawer', this.typeModel)\r\n          })\r\n          .catch((err) => {\r\n            this.Toast.fire({\r\n              icon:'error',\r\n              title: 'Something went wrong'\r\n            })\r\n            console.log(err)\r\n            this.$emit('close-nav-drawer')\r\n          })\r\n    }\r\n  }\r\n\r\n}\r\n</script>"],"mappings":"AAuEA,OAAAA,KAAA;AACA,OAAAC,IAAA;AACA;EACAC,IAAA,EAAAA,CAAA;IACAC,IAAA;IACAC,IAAA;IACAC,SAAA;IACAC,QAAA;IACAC,KAAA,EAAAN,IAAA,CAAAO,KAAA;MACAC,KAAA;MACAC,QAAA;MACAC,iBAAA;MACAC,KAAA;MACAC,gBAAA;MACAC,OAAA,EAAAL,KAAA;QACAA,KAAA,CAAAM,gBAAA,eAAAd,IAAA,CAAAe,SAAA;QACAP,KAAA,CAAAM,gBAAA,eAAAd,IAAA,CAAAgB,WAAA;MACA;IACA;EAEA;EACAC,KAAA;IACAC,SAAA;MACAf,IAAA,EAAAgB;IACA;EACA;EACAC,QAAA;IACA,KAAAC,mBAAA;EACA;EACAC,OAAA;IACA,MAAAD,oBAAA;MACA,MAAAtB,KAAA,CAAAwB,GAAA,wBACA;QAAAC,MAAA;UAAA;UAAA,gBAAApB;QAAA;MAAA,CACA,EACAqB,IAAA,CAAAC,GAAA;QACA,KAAArB,QAAA,GAAAqB,GAAA,CAAAzB,IAAA,CAAAA,IAAA,CAAA0B,OAAA;MACA,GACAC,KAAA,CAAAC,GAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA;MACA;IACA;IAEA,MAAAG,SAAA;MACA,IAAAC,QAAA,OAAAC,QAAA;MAEAD,QAAA,CAAAE,MAAA,gBAAAjC,IAAA,CAAAkC,MAAA;MACAH,QAAA,CAAAE,MAAA,gBAAAjC,IAAA,CAAAmC,MAAA;MACAJ,QAAA,CAAAE,MAAA,gBAAAjC,IAAA,CAAAoC,MAAA;MACAL,QAAA,CAAAE,MAAA,gBAAAjC,IAAA,CAAAqC,MAAA;MACAN,QAAA,CAAAE,MAAA,oBAAAjC,IAAA,CAAAsC,UAAA;MACAP,QAAA,CAAAE,MAAA,oBAAAjC,IAAA,CAAAuC,UAAA;MACAR,QAAA,CAAAE,MAAA,oBAAAjC,IAAA,CAAAG,QAAA,CAAAqC,EAAA;MACAT,QAAA,CAAAE,MAAA,eAAAjC,IAAA,CAAAyC,KAAA;MAEA,MAAA5C,KAAA,CAAA6C,IAAA,WAAAX,QAAA;QACAY,OAAA;UACA;QACA;MACA,GACApB,IAAA;QACA,KAAAnB,KAAA,CAAAwC,IAAA;UACAC,IAAA;UACAC,KAAA;QACA;QACA,KAAA9C,IAAA;QACA,KAAA+C,KAAA,0BAAA7C,SAAA;MACA,GACAwB,KAAA,CAAAC,GAAA;QACA,KAAAvB,KAAA,CAAAwC,IAAA;UACAC,IAAA;UACAC,KAAA;QACA;QACAlB,OAAA,CAAAC,GAAA,CAAAF,GAAA;QACA,KAAAoB,KAAA;MACA;IACA;EACA;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}