{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nexport default {\n  data: () => ({\n    athlete: {},\n    workedAtTm: [],\n    workedAtRu: [],\n    badgesTm: [],\n    badgesRu: [],\n    federations: [],\n    federation: null,\n    file: null,\n    Toast: Swal.mixin({\n      toast: true,\n      position: 'top-end',\n      showConfirmButton: false,\n      timer: 1500,\n      timerProgressBar: true,\n      didOpen: toast => {\n        toast.addEventListener('mouseenter', Swal.stopTimer);\n        toast.addEventListener('mouseleave', Swal.resumeTimer);\n      }\n    })\n  }),\n  created() {\n    this.getFederations();\n  },\n  methods: {\n    addItem(type) {\n      if (type === 'work') {\n        this.workedAtTm.push({\n          value: ''\n        });\n        this.workedAtRu.push({\n          value: ''\n        });\n      }\n      if (type === 'badge') {\n        this.badgesTm.push({\n          value: ''\n        });\n        this.badgesRu.push({\n          value: ''\n        });\n      }\n    },\n    removeItem(type, id) {\n      if (type === 'work') {\n        this.workedAtTm.splice(id, 1);\n        this.workedAtRu.splice(id, 1);\n      }\n      if (type === 'badge') {\n        this.badgesTm.splice(id, 1);\n        this.badgesRu.splice(id, 1);\n      }\n    },\n    async getFederations() {\n      await axios.get('/federations/').then(res => {\n        this.federations = res.data.data;\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    async saveInfo() {\n      let workedAtTm = [];\n      let workedAtRu = [];\n      let badgesTm = [];\n      let badgesRu = [];\n      for (let i = 0; i < this.workedAtTm.length; i++) {\n        workedAtTm.push(this.workedAtTm[i].value);\n        workedAtRu.push(this.workedAtRu[i].value);\n      }\n      for (let i = 0; i < this.badgesTm.length; i++) {\n        badgesTm.push(this.badgesTm[i].value);\n        badgesRu.push(this.badgesRu[i].value);\n      }\n      let formData = new FormData();\n      formData.append('nameTm', this.athlete.nameTm);\n      formData.append('nameRu', this.athlete.nameRu);\n      formData.append('age', Number(this.athlete.age));\n      formData.append('madeTm', this.athlete.madeTm);\n      formData.append('madeRu', this.athlete.madeRu);\n      formData.append('birthPlaceTm', this.athlete.birthPlaceTm);\n      formData.append('birthPlaceRu', this.athlete.birthPlaceRu);\n      formData.append('club', this.athlete.club);\n      formData.append('rating', Number(this.athlete.rating));\n      formData.append('jobTm', this.athlete.jobTm);\n      formData.append('jobRu', this.athlete.jobRu);\n      formData.append('positionTm', this.athlete.positionTm);\n      formData.append('positionRu', this.athlete.positionRu);\n      formData.append('sportLevelTm', this.athlete.sportLevelTm);\n      formData.append('sportLevelRu', this.athlete.sportLevelRu);\n      formData.append('workedAtTm', workedAtTm);\n      formData.append('workedAtRu', workedAtRu);\n      formData.append('badgesTm', badgesTm);\n      formData.append('badgesRu', badgesRu);\n      formData.append('experience', Number(this.athlete.experience));\n      formData.append('links', {});\n      formData.append('federationId', this.federation.id);\n      formData.append('photo', this.file);\n      await axios.post('/federation-athlete/', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(() => {\n        this.Toast.fire({\n          icon: 'success',\n          title: 'Successfully saved'\n        });\n        this.athlete = {};\n        this.workedAtTm = [];\n        this.workedAtRu = [];\n        this.badgesTm = [];\n        this.badgesRu = [];\n        this.federation = {};\n        this.$emit('close-nav-drawer');\n      }).catch(err => {\n        this.Toast.fire({\n          icon: 'error',\n          title: 'Something went wrong'\n        });\n        console.log(err);\n        this.$emit('close-nav-drawer');\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","Swal","data","athlete","workedAtTm","workedAtRu","badgesTm","badgesRu","federations","federation","file","Toast","mixin","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","addEventListener","stopTimer","resumeTimer","created","getFederations","methods","addItem","type","push","value","removeItem","id","splice","get","then","res","catch","err","console","log","saveInfo","i","length","formData","FormData","append","nameTm","nameRu","Number","age","madeTm","madeRu","birthPlaceTm","birthPlaceRu","club","rating","jobTm","jobRu","positionTm","positionRu","sportLevelTm","sportLevelRu","experience","post","headers","fire","icon","title","$emit"],"sources":["src/components/example/Drawers/AthleteDrawer.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <v-row no-gutters class=\"mt-1\">\r\n      <v-text-field\r\n          outlined\r\n          dense\r\n          label=\"nameTm\"\r\n          v-model=\"athlete.nameTm\"\r\n          class=\"mr-1\"\r\n      />\r\n      <v-text-field\r\n          outlined\r\n          dense\r\n          label=\"nameRu\"\r\n          v-model=\"athlete.nameRu\"\r\n          class=\"ml-1\"\r\n      />\r\n    </v-row>\r\n    <v-row no-gutters class=\"mt-1\">\r\n      <v-text-field\r\n          outlined\r\n          dense\r\n          label=\"birthPlaceTm\"\r\n          v-model=\"athlete.birthPlaceTm\"\r\n          class=\"mr-1\"\r\n      />\r\n      <v-text-field\r\n          outlined\r\n          dense\r\n          label=\"birthPlaceRu\"\r\n          v-model=\"athlete.birthPlaceRu\"\r\n          class=\"ml-1\"\r\n      />\r\n    </v-row>\r\n    <v-row no-gutters class=\"mt-1\">\r\n      <v-text-field\r\n          outlined\r\n          dense\r\n          label=\"sportLevelTm\"\r\n          v-model=\"athlete.sportLevelTm\"\r\n          class=\"mr-1\"\r\n      />\r\n      <v-text-field\r\n          outlined\r\n          dense\r\n          label=\"sportLevelRu\"\r\n          v-model=\"athlete.sportLevelRu\"\r\n          class=\"ml-1\"\r\n      />\r\n    </v-row>\r\n    <v-row no-gutters class=\"mt-1\">\r\n      <v-text-field\r\n          outlined\r\n          dense\r\n          label=\"madeTm\"\r\n          v-model=\"athlete.madeTm\"\r\n          class=\"mr-1\"\r\n      />\r\n      <v-text-field\r\n          outlined\r\n          dense\r\n          label=\"madeRu\"\r\n          v-model=\"athlete.madeRu\"\r\n          class=\"ml-1\"\r\n      />\r\n    </v-row>\r\n    <v-row no-gutters class=\"mt-1\">\r\n      <v-text-field\r\n          outlined\r\n          dense\r\n          label=\"positionTm\"\r\n          v-model=\"athlete.positionTm\"\r\n          class=\"mr-1\"\r\n      />\r\n      <v-text-field\r\n          outlined\r\n          dense\r\n          label=\"positionRu\"\r\n          v-model=\"athlete.positionRu\"\r\n          class=\"ml-1\"\r\n      />\r\n    </v-row>\r\n    <v-row no-gutters class=\"mt-1\">\r\n      <v-text-field\r\n          outlined\r\n          dense\r\n          label=\"jobTm\"\r\n          v-model=\"athlete.jobTm\"\r\n          class=\"mr-1\"\r\n      />\r\n      <v-text-field\r\n          outlined\r\n          dense\r\n          label=\"jobRu\"\r\n          v-model=\"athlete.jobRu\"\r\n          class=\"ml-1\"\r\n      />\r\n    </v-row>\r\n    <v-row no-gutters>\r\n      <v-col cols=\"12\" md=\"6\" sm=\"6\" xs=\"6\">\r\n        <v-text-field outlined dense label=\"club\" v-model=\"athlete.club\" class=\"mr-1\"/>\r\n      </v-col>\r\n      <v-col cols=\"12\" md=\"2\" sm=\"2\" xs=\"2\">\r\n        <v-text-field outlined dense label=\"age\" v-model=\"athlete.age\" class=\"mx-1\"/>\r\n      </v-col>\r\n      <v-col cols=\"12\" md=\"2\" sm=\"2\" xs=\"2\">\r\n        <v-text-field outlined dense label=\"experience\" v-model=\"athlete.experience\" class=\"mx-1\"/>\r\n      </v-col>\r\n      <v-col cols=\"12\" md=\"2\" sm=\"2\" xs=\"2\">\r\n        <v-text-field outlined dense label=\"rating\" v-model=\"athlete.rating\" class=\"ml-1\"/>\r\n      </v-col>\r\n    </v-row>\r\n\r\n<!-- Worked at view -->\r\n    <v-row no-gutters>\r\n      <v-col cols=\"12\" md=\"6\" sm=\"6\">\r\n        <div\r\n            style=\"font-weight: 700;\r\n                margin-bottom: 10px\"\r\n        >\r\n          workedAtTm:\r\n        </div>\r\n      </v-col>\r\n      <v-col cols=\"12\" md=\"6\" sm=\"6\">\r\n        <div\r\n            style=\"font-weight: 700;\r\n                margin-bottom: 10px\"\r\n        >\r\n          workedAtRu:\r\n        </div>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row no-gutters\r\n           v-for=\"(item, i) in workedAtTm\"\r\n           :key=\"i\"\r\n           class=\"mb-3\"\r\n    >\r\n      <v-text-field\r\n          v-model=\"workedAtTm[i].value\"\r\n          outlined\r\n          dense\r\n          hide-details\r\n          style=\"width: 25px !important;\"\r\n          class=\"mr-1\"\r\n      />\r\n      <v-text-field\r\n          v-model=\"workedAtRu[i].value\"\r\n          outlined\r\n          dense\r\n          hide-details\r\n          style=\"width: 25px !important;\"\r\n          class=\"ml-1\"\r\n      />\r\n      <v-btn icon>\r\n        <v-icon @click=\"removeItem('work', i)\">mdi-close</v-icon>\r\n      </v-btn>\r\n    </v-row>\r\n    <v-btn height=\"25\" outlined @click=\"addItem('work')\">add work</v-btn>\r\n\r\n<!-- Badge view -->\r\n    <v-row no-gutters class=\"mt-3\">\r\n      <v-col cols=\"12\" md=\"6\" sm=\"6\">\r\n        <div\r\n            style=\"font-weight: 700;\r\n                margin-bottom: 10px\"\r\n        >\r\n          badgesTm:\r\n        </div>\r\n      </v-col>\r\n      <v-col cols=\"12\" md=\"6\" sm=\"6\">\r\n        <div\r\n            style=\"font-weight: 700;\r\n                margin-bottom: 10px\"\r\n        >\r\n          badgesRu:\r\n        </div>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row no-gutters\r\n           v-for=\"(item, i) in badgesTm\"\r\n           :key=\"i\"\r\n           class=\"mb-3\"\r\n    >\r\n      <v-text-field\r\n          v-model=\"badgesTm[i].value\"\r\n          outlined\r\n          dense\r\n          hide-details\r\n          style=\"width: 25px !important;\"\r\n          class=\"mr-1\"\r\n      />\r\n      <v-text-field\r\n          v-model=\"badgesRu[i].value\"\r\n          outlined\r\n          dense\r\n          hide-details\r\n          style=\"width: 25px !important;\"\r\n          class=\"ml-1\"\r\n      />\r\n      <v-btn icon>\r\n        <v-icon @click=\"removeItem('badge', i)\">mdi-close</v-icon>\r\n      </v-btn>\r\n    </v-row>\r\n    <v-btn height=\"25\" outlined @click=\"addItem('badge')\">add badge</v-btn>\r\n\r\n    <v-combobox\r\n        dense\r\n        outlined\r\n        label=\"federation\"\r\n        v-model=\"federation\"\r\n        :items=\"federations\"\r\n        item-text=\"nameTm\"\r\n        class=\"mt-5\"\r\n    />\r\n\r\n    <v-file-input\r\n        v-model=\"file\"\r\n        color=\"deep-purple accent-4\"\r\n        label=\"photo\"\r\n        prepend-icon=\"mdi-paperclip\"\r\n        outlined\r\n        hide-details\r\n        dense\r\n        class=\"mb-3\"\r\n    />\r\n    <v-btn outlined width=\"100%\" class=\"mt-3\" @click=\"saveInfo\">Save</v-btn>\r\n\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport Swal from 'sweetalert2'\r\nexport default {\r\n  data: () => ({\r\n    athlete: {},\r\n    workedAtTm: [],\r\n    workedAtRu: [],\r\n    badgesTm: [],\r\n    badgesRu: [],\r\n    federations: [],\r\n    federation: null,\r\n    file: null,\r\n    Toast: Swal.mixin({\r\n      toast: true,\r\n      position: 'top-end',\r\n      showConfirmButton: false,\r\n      timer: 1500,\r\n      timerProgressBar: true,\r\n      didOpen: (toast) => {\r\n        toast.addEventListener('mouseenter', Swal.stopTimer)\r\n        toast.addEventListener('mouseleave', Swal.resumeTimer)\r\n      },\r\n    }),\r\n  }),\r\n  created() {\r\n    this.getFederations()\r\n  },\r\n  methods: {\r\n    addItem(type) {\r\n      if (type === 'work') {\r\n        this.workedAtTm.push({ value: '' })\r\n        this.workedAtRu.push({ value: '' })\r\n      }\r\n      if (type === 'badge') {\r\n        this.badgesTm.push({ value: '' })\r\n        this.badgesRu.push({ value: '' })\r\n      }\r\n    },\r\n    removeItem(type, id) {\r\n      if(type === 'work') {\r\n        this.workedAtTm.splice(id, 1)\r\n        this.workedAtRu.splice(id, 1)\r\n      }\r\n      if (type === 'badge') {\r\n        this.badgesTm.splice(id, 1)\r\n        this.badgesRu.splice(id, 1)\r\n      }\r\n    },\r\n\r\n    async getFederations() {\r\n      await axios.get('/federations/')\r\n          .then((res) => {\r\n            this.federations = res.data.data\r\n          })\r\n          .catch((err) => {\r\n            console.log(err)\r\n          })\r\n    },\r\n\r\n    async saveInfo() {\r\n\r\n      let workedAtTm = []\r\n      let workedAtRu = []\r\n      let badgesTm = []\r\n      let badgesRu = []\r\n      for (let i = 0; i < this.workedAtTm.length;i++) {\r\n          workedAtTm.push(this.workedAtTm[i].value)\r\n          workedAtRu.push(this.workedAtRu[i].value)\r\n      }\r\n      for (let i = 0; i < this.badgesTm.length;i++) {\r\n          badgesTm.push(this.badgesTm[i].value)\r\n          badgesRu.push(this.badgesRu[i].value)\r\n      }\r\n\r\n      let formData = new FormData();\r\n\r\n      formData.append('nameTm', this.athlete.nameTm)\r\n      formData.append('nameRu', this.athlete.nameRu)\r\n      formData.append('age', Number(this.athlete.age))\r\n      formData.append('madeTm', this.athlete.madeTm)\r\n      formData.append('madeRu', this.athlete.madeRu)\r\n      formData.append('birthPlaceTm', this.athlete.birthPlaceTm)\r\n      formData.append('birthPlaceRu', this.athlete.birthPlaceRu)\r\n      formData.append('club', this.athlete.club)\r\n      formData.append('rating', Number(this.athlete.rating))\r\n      formData.append('jobTm', this.athlete.jobTm)\r\n      formData.append('jobRu', this.athlete.jobRu)\r\n      formData.append('positionTm', this.athlete.positionTm)\r\n      formData.append('positionRu', this.athlete.positionRu)\r\n      formData.append('sportLevelTm', this.athlete.sportLevelTm)\r\n      formData.append('sportLevelRu', this.athlete.sportLevelRu)\r\n      formData.append('workedAtTm', workedAtTm)\r\n      formData.append('workedAtRu', workedAtRu)\r\n      formData.append('badgesTm', badgesTm)\r\n      formData.append('badgesRu', badgesRu)\r\n      formData.append('experience', Number(this.athlete.experience))\r\n      formData.append('links', {})\r\n      formData.append('federationId', this.federation.id)\r\n      formData.append('photo', this.file)\r\n\r\n\r\n\r\n      await axios.post('/federation-athlete/', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      })\r\n          .then(() => {\r\n            this.Toast.fire({\r\n              icon:'success',\r\n              title: 'Successfully saved'\r\n            })\r\n            this.athlete = {}\r\n            this.workedAtTm = []\r\n            this.workedAtRu = []\r\n            this.badgesTm = []\r\n            this.badgesRu = []\r\n            this.federation = {}\r\n            this.$emit('close-nav-drawer')\r\n          })\r\n          .catch((err) => {\r\n            this.Toast.fire({\r\n              icon:'error',\r\n              title: 'Something went wrong'\r\n            })\r\n            console.log(err)\r\n            this.$emit('close-nav-drawer')\r\n          })\r\n    }\r\n  }\r\n}\r\n</script>"],"mappings":";AAwOA,OAAAA,KAAA;AACA,OAAAC,IAAA;AACA;EACAC,IAAA,EAAAA,CAAA;IACAC,OAAA;IACAC,UAAA;IACAC,UAAA;IACAC,QAAA;IACAC,QAAA;IACAC,WAAA;IACAC,UAAA;IACAC,IAAA;IACAC,KAAA,EAAAV,IAAA,CAAAW,KAAA;MACAC,KAAA;MACAC,QAAA;MACAC,iBAAA;MACAC,KAAA;MACAC,gBAAA;MACAC,OAAA,EAAAL,KAAA;QACAA,KAAA,CAAAM,gBAAA,eAAAlB,IAAA,CAAAmB,SAAA;QACAP,KAAA,CAAAM,gBAAA,eAAAlB,IAAA,CAAAoB,WAAA;MACA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,cAAA;EACA;EACAC,OAAA;IACAC,QAAAC,IAAA;MACA,IAAAA,IAAA;QACA,KAAAtB,UAAA,CAAAuB,IAAA;UAAAC,KAAA;QAAA;QACA,KAAAvB,UAAA,CAAAsB,IAAA;UAAAC,KAAA;QAAA;MACA;MACA,IAAAF,IAAA;QACA,KAAApB,QAAA,CAAAqB,IAAA;UAAAC,KAAA;QAAA;QACA,KAAArB,QAAA,CAAAoB,IAAA;UAAAC,KAAA;QAAA;MACA;IACA;IACAC,WAAAH,IAAA,EAAAI,EAAA;MACA,IAAAJ,IAAA;QACA,KAAAtB,UAAA,CAAA2B,MAAA,CAAAD,EAAA;QACA,KAAAzB,UAAA,CAAA0B,MAAA,CAAAD,EAAA;MACA;MACA,IAAAJ,IAAA;QACA,KAAApB,QAAA,CAAAyB,MAAA,CAAAD,EAAA;QACA,KAAAvB,QAAA,CAAAwB,MAAA,CAAAD,EAAA;MACA;IACA;IAEA,MAAAP,eAAA;MACA,MAAAvB,KAAA,CAAAgC,GAAA,kBACAC,IAAA,CAAAC,GAAA;QACA,KAAA1B,WAAA,GAAA0B,GAAA,CAAAhC,IAAA,CAAAA,IAAA;MACA,GACAiC,KAAA,CAAAC,GAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA;MACA;IACA;IAEA,MAAAG,SAAA;MAEA,IAAAnC,UAAA;MACA,IAAAC,UAAA;MACA,IAAAC,QAAA;MACA,IAAAC,QAAA;MACA,SAAAiC,CAAA,MAAAA,CAAA,QAAApC,UAAA,CAAAqC,MAAA,EAAAD,CAAA;QACApC,UAAA,CAAAuB,IAAA,MAAAvB,UAAA,CAAAoC,CAAA,EAAAZ,KAAA;QACAvB,UAAA,CAAAsB,IAAA,MAAAtB,UAAA,CAAAmC,CAAA,EAAAZ,KAAA;MACA;MACA,SAAAY,CAAA,MAAAA,CAAA,QAAAlC,QAAA,CAAAmC,MAAA,EAAAD,CAAA;QACAlC,QAAA,CAAAqB,IAAA,MAAArB,QAAA,CAAAkC,CAAA,EAAAZ,KAAA;QACArB,QAAA,CAAAoB,IAAA,MAAApB,QAAA,CAAAiC,CAAA,EAAAZ,KAAA;MACA;MAEA,IAAAc,QAAA,OAAAC,QAAA;MAEAD,QAAA,CAAAE,MAAA,gBAAAzC,OAAA,CAAA0C,MAAA;MACAH,QAAA,CAAAE,MAAA,gBAAAzC,OAAA,CAAA2C,MAAA;MACAJ,QAAA,CAAAE,MAAA,QAAAG,MAAA,MAAA5C,OAAA,CAAA6C,GAAA;MACAN,QAAA,CAAAE,MAAA,gBAAAzC,OAAA,CAAA8C,MAAA;MACAP,QAAA,CAAAE,MAAA,gBAAAzC,OAAA,CAAA+C,MAAA;MACAR,QAAA,CAAAE,MAAA,sBAAAzC,OAAA,CAAAgD,YAAA;MACAT,QAAA,CAAAE,MAAA,sBAAAzC,OAAA,CAAAiD,YAAA;MACAV,QAAA,CAAAE,MAAA,cAAAzC,OAAA,CAAAkD,IAAA;MACAX,QAAA,CAAAE,MAAA,WAAAG,MAAA,MAAA5C,OAAA,CAAAmD,MAAA;MACAZ,QAAA,CAAAE,MAAA,eAAAzC,OAAA,CAAAoD,KAAA;MACAb,QAAA,CAAAE,MAAA,eAAAzC,OAAA,CAAAqD,KAAA;MACAd,QAAA,CAAAE,MAAA,oBAAAzC,OAAA,CAAAsD,UAAA;MACAf,QAAA,CAAAE,MAAA,oBAAAzC,OAAA,CAAAuD,UAAA;MACAhB,QAAA,CAAAE,MAAA,sBAAAzC,OAAA,CAAAwD,YAAA;MACAjB,QAAA,CAAAE,MAAA,sBAAAzC,OAAA,CAAAyD,YAAA;MACAlB,QAAA,CAAAE,MAAA,eAAAxC,UAAA;MACAsC,QAAA,CAAAE,MAAA,eAAAvC,UAAA;MACAqC,QAAA,CAAAE,MAAA,aAAAtC,QAAA;MACAoC,QAAA,CAAAE,MAAA,aAAArC,QAAA;MACAmC,QAAA,CAAAE,MAAA,eAAAG,MAAA,MAAA5C,OAAA,CAAA0D,UAAA;MACAnB,QAAA,CAAAE,MAAA;MACAF,QAAA,CAAAE,MAAA,sBAAAnC,UAAA,CAAAqB,EAAA;MACAY,QAAA,CAAAE,MAAA,eAAAlC,IAAA;MAIA,MAAAV,KAAA,CAAA8D,IAAA,yBAAApB,QAAA;QACAqB,OAAA;UACA;QACA;MACA,GACA9B,IAAA;QACA,KAAAtB,KAAA,CAAAqD,IAAA;UACAC,IAAA;UACAC,KAAA;QACA;QACA,KAAA/D,OAAA;QACA,KAAAC,UAAA;QACA,KAAAC,UAAA;QACA,KAAAC,QAAA;QACA,KAAAC,QAAA;QACA,KAAAE,UAAA;QACA,KAAA0D,KAAA;MACA,GACAhC,KAAA,CAAAC,GAAA;QACA,KAAAzB,KAAA,CAAAqD,IAAA;UACAC,IAAA;UACAC,KAAA;QACA;QACA7B,OAAA,CAAAC,GAAA,CAAAF,GAAA;QACA,KAAA+B,KAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}