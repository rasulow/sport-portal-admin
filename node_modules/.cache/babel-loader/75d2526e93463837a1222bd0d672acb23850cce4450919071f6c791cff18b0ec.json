{"ast":null,"code":"import axios from 'axios';\nimport Swal from 'sweetalert2';\nexport default {\n  data: () => ({\n    employee: {},\n    departments: [],\n    Toast: Swal.mixin({\n      toast: true,\n      position: 'top-end',\n      showConfirmButton: false,\n      timer: 1500,\n      timerProgressBar: true,\n      didOpen: toast => {\n        toast.addEventListener('mouseenter', Swal.stopTimer);\n        toast.addEventListener('mouseleave', Swal.resumeTimer);\n      }\n    })\n  }),\n  props: {},\n  created() {\n    this.getDepartments();\n  },\n  methods: {\n    async getDepartments() {\n      await axios.get('/health-care-departments/').then(res => {\n        this.departments = res.data.data;\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    async saveInfo() {\n      let formData = new FormData();\n      formData.append('nameTm', this.employee.nameTm);\n      formData.append('nameRu', this.employee.nameRu);\n      formData.append('jobTm', this.employee.jobTm);\n      formData.append('jobRu', this.employee.jobRu);\n      formData.append('workAtTm', this.employee.workAtTm);\n      formData.append('workAtRu', this.employee.workAtRu);\n      formData.append('age', Number(this.employee.age));\n      formData.append('departmentId', this.employee.department.id);\n      formData.append('experience', Number(this.employee.experience));\n      formData.append('rating', Number(this.employee.rating));\n      formData.append('links', {});\n      formData.append('photo', this.employee.file);\n      await axios.post('/federation-health-care-employees/', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(() => {\n        this.Toast.fire({\n          icon: 'success',\n          title: 'Successfully saved'\n        });\n        this.employee = {};\n        this.$emit('close-nav-drawer');\n      }).catch(err => {\n        this.Toast.fire({\n          icon: 'error',\n          title: 'Something went wrong'\n        });\n        console.log(err);\n        this.$emit('close-nav-drawer');\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","Swal","data","employee","departments","Toast","mixin","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","addEventListener","stopTimer","resumeTimer","props","created","getDepartments","methods","get","then","res","catch","err","console","log","saveInfo","formData","FormData","append","nameTm","nameRu","jobTm","jobRu","workAtTm","workAtRu","Number","age","department","id","experience","rating","file","post","headers","fire","icon","title","$emit"],"sources":["src/components/example/Drawers/EmployeeDrawer.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <v-text-field\r\n        outlined\r\n        dense\r\n        label=\"nameTm\"\r\n        v-model=\"employee.nameTm\"\r\n        class=\"mt-1\"\r\n    />\r\n    <v-text-field\r\n        outlined\r\n        dense\r\n        label=\"nameRu\"\r\n        v-model=\"employee.nameRu\"\r\n    />\r\n    <v-text-field\r\n        outlined\r\n        dense\r\n        label=\"jobTm\"\r\n        v-model=\"employee.jobTm\"\r\n    />\r\n    <v-text-field\r\n        outlined\r\n        dense\r\n        label=\"jobRu\"\r\n        v-model=\"employee.jobRu\"\r\n    />\r\n    <v-text-field\r\n        outlined\r\n        dense\r\n        label=\"workAtTm\"\r\n        v-model=\"employee.workAtTm\"\r\n    />\r\n    <v-text-field\r\n        outlined\r\n        dense\r\n        label=\"workAtRu\"\r\n        v-model=\"employee.workAtRu\"\r\n    />\r\n\r\n    <v-row no-gutters>\r\n      <v-col cols=\"12\" md=\"4\" sm=\"4\">\r\n        <v-text-field\r\n            outlined\r\n            dense\r\n            label=\"age\"\r\n            v-model=\"employee.age\"\r\n            class=\"mr-1\"\r\n        />\r\n      </v-col>\r\n      <v-col cols=\"12\" md=\"4\" sm=\"4\">\r\n        <v-text-field\r\n            outlined\r\n            dense\r\n            label=\"experience\"\r\n            v-model=\"employee.experience\"\r\n            class=\"mx-1\"\r\n        />\r\n      </v-col>\r\n      <v-col cols=\"12\" md=\"4\" sm=\"4\">\r\n        <v-text-field\r\n            outlined\r\n            dense\r\n            label=\"rating\"\r\n            v-model=\"employee.rating\"\r\n            class=\"ml-1\"\r\n        />\r\n      </v-col>\r\n    </v-row>\r\n    <v-row no-gutters>\r\n      <v-combobox\r\n        dense\r\n        outlined\r\n        label=\"deaprtment\"\r\n        v-model=\"employee.department\"\r\n        :items=\"departments\"\r\n        item-text=\"nameTm\"\r\n      />\r\n    </v-row>\r\n    <v-file-input\r\n      v-model=\"employee.file\"\r\n      color=\"deep-purple accent-4\"\r\n      label=\"photo\"\r\n      prepend-icon=\"mdi-paperclip\"\r\n      outlined\r\n      hide-details\r\n      dense\r\n      class=\"mb-5\"\r\n    /> \r\n    <v-btn outlined width=\"100%\" @click=\"saveInfo\">Save</v-btn>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport Swal from 'sweetalert2'\r\n\r\nexport default {\r\n  data: () => ({\r\n    employee: {},\r\n    departments: [],\r\n    Toast: Swal.mixin({\r\n      toast: true,\r\n      position: 'top-end',\r\n      showConfirmButton: false,\r\n      timer: 1500,\r\n      timerProgressBar: true,\r\n      didOpen: (toast) => {\r\n        toast.addEventListener('mouseenter', Swal.stopTimer)\r\n        toast.addEventListener('mouseleave', Swal.resumeTimer)\r\n      },\r\n    }),\r\n  }),\r\n  props: {\r\n\r\n  },\r\n  created() {\r\n    this.getDepartments()\r\n  },\r\n  methods: {\r\n    async getDepartments() {\r\n      await axios.get('/health-care-departments/')\r\n      .then((res) => {\r\n        this.departments = res.data.data\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n      })\r\n    },\r\n\r\n    async saveInfo() {\r\n      let formData = new FormData()\r\n\r\n      formData.append('nameTm', this.employee.nameTm)\r\n      formData.append('nameRu', this.employee.nameRu)\r\n      formData.append('jobTm', this.employee.jobTm)\r\n      formData.append('jobRu', this.employee.jobRu)\r\n      formData.append('workAtTm', this.employee.workAtTm)\r\n      formData.append('workAtRu', this.employee.workAtRu)\r\n      formData.append('age', Number(this.employee.age))\r\n      formData.append('departmentId', this.employee.department.id)\r\n      formData.append('experience', Number(this.employee.experience))\r\n      formData.append('rating', Number(this.employee.rating))\r\n      formData.append('links', {})\r\n      formData.append('photo', this.employee.file)\r\n\r\n\r\n      await axios.post('/federation-health-care-employees/', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      })\r\n      .then(() => {\r\n        this.Toast.fire({\r\n          icon:'success',\r\n          title: 'Successfully saved'\r\n        })\r\n        this.employee = {}\r\n        this.$emit('close-nav-drawer')\r\n      })\r\n      .catch((err) => {\r\n        this.Toast.fire({\r\n          icon:'error',\r\n          title: 'Something went wrong'\r\n        })\r\n        console.log(err)\r\n        this.$emit('close-nav-drawer')\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n\r\n</style>"],"mappings":"AA8FA,OAAAA,KAAA;AACA,OAAAC,IAAA;AAEA;EACAC,IAAA,EAAAA,CAAA;IACAC,QAAA;IACAC,WAAA;IACAC,KAAA,EAAAJ,IAAA,CAAAK,KAAA;MACAC,KAAA;MACAC,QAAA;MACAC,iBAAA;MACAC,KAAA;MACAC,gBAAA;MACAC,OAAA,EAAAL,KAAA;QACAA,KAAA,CAAAM,gBAAA,eAAAZ,IAAA,CAAAa,SAAA;QACAP,KAAA,CAAAM,gBAAA,eAAAZ,IAAA,CAAAc,WAAA;MACA;IACA;EACA;EACAC,KAAA,GAEA;EACAC,QAAA;IACA,KAAAC,cAAA;EACA;EACAC,OAAA;IACA,MAAAD,eAAA;MACA,MAAAlB,KAAA,CAAAoB,GAAA,8BACAC,IAAA,CAAAC,GAAA;QACA,KAAAlB,WAAA,GAAAkB,GAAA,CAAApB,IAAA,CAAAA,IAAA;MACA,GACAqB,KAAA,CAAAC,GAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA;MACA;IACA;IAEA,MAAAG,SAAA;MACA,IAAAC,QAAA,OAAAC,QAAA;MAEAD,QAAA,CAAAE,MAAA,gBAAA3B,QAAA,CAAA4B,MAAA;MACAH,QAAA,CAAAE,MAAA,gBAAA3B,QAAA,CAAA6B,MAAA;MACAJ,QAAA,CAAAE,MAAA,eAAA3B,QAAA,CAAA8B,KAAA;MACAL,QAAA,CAAAE,MAAA,eAAA3B,QAAA,CAAA+B,KAAA;MACAN,QAAA,CAAAE,MAAA,kBAAA3B,QAAA,CAAAgC,QAAA;MACAP,QAAA,CAAAE,MAAA,kBAAA3B,QAAA,CAAAiC,QAAA;MACAR,QAAA,CAAAE,MAAA,QAAAO,MAAA,MAAAlC,QAAA,CAAAmC,GAAA;MACAV,QAAA,CAAAE,MAAA,sBAAA3B,QAAA,CAAAoC,UAAA,CAAAC,EAAA;MACAZ,QAAA,CAAAE,MAAA,eAAAO,MAAA,MAAAlC,QAAA,CAAAsC,UAAA;MACAb,QAAA,CAAAE,MAAA,WAAAO,MAAA,MAAAlC,QAAA,CAAAuC,MAAA;MACAd,QAAA,CAAAE,MAAA;MACAF,QAAA,CAAAE,MAAA,eAAA3B,QAAA,CAAAwC,IAAA;MAGA,MAAA3C,KAAA,CAAA4C,IAAA,uCAAAhB,QAAA;QACAiB,OAAA;UACA;QACA;MACA,GACAxB,IAAA;QACA,KAAAhB,KAAA,CAAAyC,IAAA;UACAC,IAAA;UACAC,KAAA;QACA;QACA,KAAA7C,QAAA;QACA,KAAA8C,KAAA;MACA,GACA1B,KAAA,CAAAC,GAAA;QACA,KAAAnB,KAAA,CAAAyC,IAAA;UACAC,IAAA;UACAC,KAAA;QACA;QACAvB,OAAA,CAAAC,GAAA,CAAAF,GAAA;QACA,KAAAyB,KAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}