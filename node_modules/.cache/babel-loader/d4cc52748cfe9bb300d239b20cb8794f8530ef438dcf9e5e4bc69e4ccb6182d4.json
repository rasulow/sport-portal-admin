{"ast":null,"code":"import SideBar from '@/components/sidebar/SideBar';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nexport default {\n  data: () => ({\n    headers: ['id', 'name TM', 'name RU', 'action'],\n    categories: [],\n    drawer: false,\n    category: {},\n    Toast: Swal.mixin({\n      toast: true,\n      position: 'top-end',\n      showConfirmButton: false,\n      timer: 1500,\n      timerProgressBar: true,\n      didOpen: toast => {\n        toast.addEventListener('mouseenter', Swal.stopTimer);\n        toast.addEventListener('mouseleave', Swal.resumeTimer);\n      }\n    })\n  }),\n  created() {\n    this.getCategory();\n  },\n  methods: {\n    async getCategory() {\n      await axios.get('/base-category/').then(res => {\n        this.categories = res.data.data;\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    async updateCategory(item) {\n      this.category.id = item.id;\n      this.category.nameTm = item.nameTm;\n      this.category.nameRu = item.nameRu;\n      this.drawer = !this.drawer;\n    },\n    async saveCategory() {\n      if (this.category.id == undefined) {\n        await axios.post('/base-category/', this.category).then(() => {\n          this.getCategory();\n          this.drawer = !this.drawer;\n          this.Toast.fire({\n            icon: 'success',\n            title: 'Successfully saved'\n          });\n          this.category = {};\n        }).catch(err => {\n          console.log(err);\n          this.drawer = !this.drawer;\n          this.Toast.fire({\n            icon: 'error',\n            title: 'Something went wrong'\n          });\n          this.category = {};\n        });\n      } else {\n        await axios.patch('base-category/' + this.category.id + '/', {\n          nameTm: this.category.nameTm,\n          nameRu: this.category.nameRu\n        }).then(() => {\n          this.getCategory();\n          this.drawer = !this.drawer;\n          this.Toast.fire({\n            icon: 'success',\n            title: 'Successfully updated'\n          });\n          this.category = {};\n        }).catch(err => {\n          console.log(err);\n          this.drawer = !this.drawer;\n          this.Toast.fire({\n            icon: 'error',\n            title: 'Something went wrong'\n          });\n          this.category = {};\n        });\n      }\n    },\n    async deleteCategory(id) {\n      Swal.fire({\n        title: 'Are you sure?',\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonColor: '#7FBA5E',\n        cancelButtonColor: '#d33',\n        confirmButtonText: 'Yes, delete it!'\n      }).then(res => {\n        if (res.isConfirmed) {\n          axios.delete('/base-category/' + id + '/').then(() => {\n            this.getCategory();\n            this.Toast.fire({\n              icon: 'success',\n              title: 'Successfully deleted'\n            });\n          }).catch(err => {\n            console.log(err);\n            this.Toast.fire({\n              icon: 'error',\n              title: 'Something went wrong'\n            });\n          });\n        }\n      });\n    }\n  },\n  components: {\n    SideBar\n  }\n};","map":{"version":3,"names":["SideBar","axios","Swal","data","headers","categories","drawer","category","Toast","mixin","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","addEventListener","stopTimer","resumeTimer","created","getCategory","methods","get","then","res","catch","err","console","log","updateCategory","item","id","nameTm","nameRu","saveCategory","undefined","post","fire","icon","title","patch","deleteCategory","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","isConfirmed","delete","components"],"sources":["C:/Projects/sport-portal-admin/src/views/pages/Category/BaseCategory/BaseCategory.js"],"sourcesContent":["import SideBar from '@/components/sidebar/SideBar';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nexport default {\r\n    data: () => ({\r\n        headers: ['id', 'name TM', 'name RU', 'action'],\r\n        categories: [],\r\n        drawer: false,\r\n        category: {},\r\n        Toast: Swal.mixin({\r\n            toast: true,\r\n            position: 'top-end',\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n            timerProgressBar: true,\r\n            didOpen: (toast) => {\r\n              toast.addEventListener('mouseenter', Swal.stopTimer)\r\n              toast.addEventListener('mouseleave', Swal.resumeTimer)\r\n            }\r\n        }),\r\n    }),\r\n    created() {\r\n        this.getCategory()\r\n    },\r\n    methods: {\r\n        async getCategory() {\r\n            await axios.get('/base-category/')\r\n            .then((res) => {\r\n                this.categories = res.data.data\r\n            })\r\n            .catch((err) => {\r\n                console.log(err)\r\n            })\r\n        },\r\n\r\n        async updateCategory(item) {\r\n            this.category.id = item.id\r\n            this.category.nameTm = item.nameTm\r\n            this.category.nameRu = item.nameRu\r\n            this.drawer = !this.drawer\r\n        },\r\n\r\n        async saveCategory() {\r\n            if (this.category.id == undefined) {\r\n                await axios.post('/base-category/', this.category)\r\n                .then(() => {\r\n                    this.getCategory()\r\n                    this.drawer = !this.drawer\r\n                    this.Toast.fire({\r\n                        icon:'success',\r\n                        title: 'Successfully saved'\r\n                    })\r\n                    this.category = {}\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err)\r\n                    this.drawer = !this.drawer\r\n                    this.Toast.fire({\r\n                        icon:'error',\r\n                        title: 'Something went wrong'\r\n                    })\r\n                    this.category = {}\r\n                })\r\n            } else {\r\n                await axios.patch('base-category/' + this.category.id + '/', {\r\n                    nameTm: this.category.nameTm,\r\n                    nameRu: this.category.nameRu\r\n                })\r\n                .then(() => {\r\n                    this.getCategory()\r\n                    this.drawer = !this.drawer\r\n                    this.Toast.fire({\r\n                        icon:'success',\r\n                        title: 'Successfully updated'\r\n                    })\r\n                    this.category = {}\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err)\r\n                    this.drawer = !this.drawer\r\n                    this.Toast.fire({\r\n                        icon:'error',\r\n                        title: 'Something went wrong'\r\n                    })\r\n                    this.category = {}\r\n                })\r\n            }\r\n        },\r\n\r\n        async deleteCategory(id) {\r\n            Swal.fire({\r\n                title: 'Are you sure?',\r\n                icon: 'question',\r\n                showCancelButton: true,\r\n                confirmButtonColor: '#7FBA5E',\r\n                cancelButtonColor: '#d33',\r\n                confirmButtonText: 'Yes, delete it!'\r\n            })\r\n            .then((res) => {\r\n                if (res.isConfirmed) {\r\n                    axios.delete('/base-category/' + id + '/')\r\n                    .then(() => {\r\n                        this.getCategory()\r\n                        this.Toast.fire({\r\n                            icon:'success',\r\n                            title: 'Successfully deleted'\r\n                        })\r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(err)\r\n                        this.Toast.fire({\r\n                            icon:'error',\r\n                            title: 'Something went wrong'\r\n                        })\r\n                    })\r\n                }\r\n            })\r\n\r\n        }\r\n    },\r\n    components: {\r\n        SideBar\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}