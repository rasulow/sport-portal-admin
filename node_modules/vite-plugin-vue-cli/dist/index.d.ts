import { Plugin } from 'vite';
import express from 'express';

/**
 * Plugin options.
 */
interface VueCliOptions {
    baseUrl?: string;
    publicPath?: string;
    outputDir?: string;
    pages?: Record<string, any>;
    runtimeCompiler?: boolean;
    productionSourceMap?: boolean;
    css?: {
        sourceMap?: boolean;
        loaderOptions?: Record<string, any>;
        extract?: any;
    };
    configureWebpack?: any;
    chainWebpack?: any;
    devServer?: {
        open?: boolean;
        host?: string;
        public?: string;
        port?: number;
        proxy?: any;
        https?: any;
        before?: Function;
    };
    pluginOptions?: Record<string, any>;
}

declare module 'http' {
    interface ServerResponse {
        req: any;
        app: any;
        status: express.Response['status'];
        json: express.Response['json'];
    }
}

declare function vueCli(): Plugin;

export default vueCli;
export { VueCliOptions };
